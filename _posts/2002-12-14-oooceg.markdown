--- 
wordpress_id: 331
layout: post
title: Think of everything but the obvious first
date: "2002-12-14T15:57:01-05:00"
wordpress_slug: oooceg
wordpress_url: http://www.decafbad.com/blog/?p=331
---
<p>Today's revelation while tinkering with my <a href="http://www.decafbad.com/twiki/bin/view/Main/PersonalWebProxy">PersonalWebProxy</a>:  Decompressed content is larger than compressed content.  </p>
<p>See, I was decompressing gzipped content streams in the proxy in order to fiddle with the content before it got to the browser, but then I noticed that browsers kept only displaying part of the content.  I remove the in-proxy decompression, things are fine.  Put it back in, things get cut short.  I poke for a few hours at various bits and parts, to no avail.  </p>
<p>Then, finally I remember...  "Hey, you know, I think browsers pay attention to that Content-Length header.  And hey, you know...  decompressed content is larger than compressed content."  Bingo.  Problem solved by keeping the Content-Length header updated with the length of modified content.  This makes me feel very dumb, because it's not like I haven't written a handful or two both of HTTP clients and servers.  And I've written code that uses the Content-Length header, over and over again.  I'd've thought this would be something I'd remember more quickly.</p>
<p>More often than I'd like to admit, remembering simple and obvious things like the above are what unlock problems that I'd been banging my head against.  The last revelation of this nature I had while frustrated at a project at work was:  "Not all months are 31 days."  And before that, "Not all days in a year are 24 hours long, due daylight savings time."</p>
<p>Trying to think of more, but I thought I'd share. Maybe I'll start a wiki topic for sage bits of the <a href="http://www.decafbad.com/twiki/bin/view/Main/ObviousInHindsight">ObviousInHindsight</a>.<br />
</p>
<!--more-->
shortname=oooceg
